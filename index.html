<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>demimomi world</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: black;
      font-family: 'Comic Sans MS', cursive, sans-serif;
    }
    canvas {
      display: block;
    }
    h1 {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(0deg);
      color: white;
      font-size: 4em;
      animation: shake 0.3s infinite;
      text-shadow: 0 0 10px #ff00ff, 0 0 20px #00ffff, 0 0 30px #ffff00;
    }
    @keyframes shake {
      0% { transform: translate(-50%, -50%) rotate(-2deg); }
      50% { transform: translate(-50%, -50%) rotate(2deg); }
      100% { transform: translate(-50%, -50%) rotate(-2deg); }
    }
  </style>
</head>
<body>
  <canvas id="bgCanvas"></canvas>
  <h1>🌈 サイケ宇宙へようこそ 🌌</h1>

  <script>
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let shapes = [];

    function randomColor() {
      return `hsl(${Math.random() * 360}, 100%, 50%)`;
    }

    function createShapes() {
      for (let i = 0; i < 50; i++) {
        shapes.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 100 + 20,
          angle: Math.random() * Math.PI * 2,
          speed: Math.random() * 0.02 + 0.01,
          color: randomColor()
        });
      }
    }

    function drawShapes() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let s of shapes) {
        ctx.save();
        ctx.translate(s.x, s.y);
        ctx.rotate(s.angle);
        ctx.strokeStyle = s.color;
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.arc(0, 0, s.size, 0, Math.PI * 2);
        ctx.stroke();
        ctx.restore();
        s.angle += s.speed;
      }
    }

    function animate() {
      drawShapes();
      requestAnimationFrame(animate);
    }

    createShapes();
    animate();

    // サウンド（マウスでトリガー）
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    document.body.addEventListener('click', () => {
      const oscillator = audioCtx.createOscillator();
      oscillator.type = 'square';
      oscillator.frequency.setValueAtTime(300 + Math.random() * 700, audioCtx.currentTime);
      oscillator.connect(audioCtx.destination);
      oscillator.start();
      oscillator.stop(audioCtx.currentTime + 0.2);
    });

    // 背景色ランダム変更
    setInterval(() => {
      document.body.style.backgroundColor = randomColor();
    }, 800);
  </script>
</body>
</html>
