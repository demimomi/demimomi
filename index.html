<!DOCTYPE html>
<html>
<head>
  <title>demimomiチャット</title>
</head>
<body>
  <h1>demimomiと話そう</h1>
  <textarea id="userInput" placeholder="質問を書いてね！" rows="4" cols="50"></textarea><br>
  <button onclick="sendToGemini()">送信</button>
  <p id="response"></p>

  <script>
  async function sendToGemini() {
    const input = document.getElementById("userInput").value;
    const GAS_URL = "https://script.google.com/macros/s/AKfycbzPaHN3jrnX7q9enogJ8sj7zcH9v8Fv7bC1Qp3XdCDTOtX3BTcRjWfliYxLsmDgx0Ia/exec"; // ここに貼り付け

    const response = await fetch(GAS_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ input: input })
    });

    const data = await response.json();
    document.getElementById("response").innerText =
      data?.candidates?.[0]?.content?.parts?.[0]?.text || "エラー";
  }
</script>
</body>
</html>
